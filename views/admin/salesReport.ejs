<%- include('../layout/adminheader') %>
<section class="pb-15">
  <div class="card mb-4">
    <header>
      <h3 class="card-title p-2">Sales Report</h3>
      <h4 class="p-2"><%= message %></h4>
      <div class="card-header d-flex justify-content-between align-items-center">
       <div>
          <a href="/gadgetly/admin/daily-sales"><button class="btn btn-primary">Daily</button></a>
          <a href="/gadgetly/admin/weekly-sales"><button class="btn btn-primary">Weekly</button></a>
          <a href="/gadgetly/admin/monthly-sales"><button class="btn btn-primary">Monthly</button></a>
          <a href="/gadgetly/admin/yearly-sales"><button class="btn btn-primary">Yearly</button></a>
          <a href="/gadgetly/admin/salesreport"><button class="btn btn-primary">Total</button></a>
          <div class="mt-20">
            <form action="/gadgetly/admin/custom-sales" method="post">
                <label for="startDate" class="text-danger">Start Date:</label>
                <input type="date" id="startDate" name="startDate">
            
                <label for="endDate" class="text-danger">End Date:</label>
                <input type="date" id="endDate" name="endDate">
            
                <button type="submit" >Submit</button>
              </form>
          </div>
       </div>
       <!-- New button fixed to the right end -->
       <div>
        <a href="/gadgetly/admin/dowload-report/?type=<%=type%>"><button class="btn btn-danger">Dowload Pdf</button></a>
        <a href="/gadgetly/admin/dowload-excel/?type=<%=type%>"><button class="btn btn-danger">Dowload Excel</button></a>

       </div>
      
      </div>
  </header>
  
    <div class="card-body">
        <div class="table-responsive">
            <div class="table-responsive">
                <table class="table align-middle table-nowrap mb-0">
                    <thead class="table-light">
                        <tr>
                            <!-- <th scope="col" class="text-center">
                                <div class="form-check align-middle">
                                    <input class="form-check-input" type="checkbox" id="transactionCheck01">
                                    <label class="form-check-label" for="transactionCheck01"></label>
                                </div>
                            </th> -->
                            <th class="align-middle" scope="col">Order ID</th>
                            <th class="align-middle" scope="col">Billing Name</th>
                            <th class="align-middle" scope="col">Date</th>
                            <th class="align-middle" scope="col">Total</th>
                            <th class="align-middle" scope="col">Payment Status</th>
                            <th class="align-middle" scope="col">Payment Method</th>
                            <!-- <th class="align-middle" scope="col">OrderStatus</th>
                            <th class="align-middle" scope="col">View Details</th> -->
                        </tr>
                    </thead>
                    <tbody>
                      <% if(typeof salesData != "undefined" && salesData.length>0){
                        salesData.forEach((order,index)=>{  %>
                          <tr>
                            <!-- <td class="text-center">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="transactionCheck02">
                                    <label class="form-check-label" for="transactionCheck02"></label>
                                </div>
                            </td> -->
                            <td><a href="#" class="fw-bold"><%= index+1 %></a> </td>
                            <td><%= order.userId.name %></td>
                            <td>
                                <%= order.date %>
                            </td>
                            <td>
                                <%= order.orderValue %>
                            </td>
                            <td>
                                <span class="badge badge-pill badge-soft-success"><%= order.orderStatus %></span>
                            </td>
                            <td>
                              <!-- card icon in cod  doesn't need-->
                                <!-- <i class="material-icons md-payment font-xxl text-muted mr-5"></i>  -->
                                <%= order.paymentMethod %>
                            </td>
                            <!-- <td>
                                <a href="/gadgetly/admin/deliver/?orderId=<%=order._id %>" class="btn btn-xs"> Deliver</a>
                            </td>
                            <td>
                                <a href="#" class="btn btn-xs"> View details</a>
                            </td> -->
                        </tr>
                       <%})
                      } else{ %>
                        <tr>
                          <td colspan="4">no orders yet...............</td>
                        </tr>
                      <% } %>

                    </tbody>
                </table>
            </div>
        </div> <!-- table-responsive end// -->
    </div>
</div>
<div class="pagination-area mt-15 mb-50">
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-start">
            <%if(typeof totalPages != "undefined"){
                for(i=1; i<=totalPages; i++){ %>
                    <li class="page-item"><a class="page-link" href="?page=<%= i %>"><%= i %></a></li> 
            <% } 
           } %>
        </ul>
    </nav>
</div>

</section> <!-- content-main end// -->


<%-include('../layout/adminfooter') %>